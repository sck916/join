{"version":3,"sources":["components/UserContext.js","components/AuthOptions.js","components/Header.js","components/Home.js","components/ErrorNotice.js","components/Login.js","components/Register.js","App.js","reportWebVitals.js","index.js"],"names":["createContext","AuthOptions","useContext","UserContext","userData","setUserData","history","useHistory","className","user","onClick","token","undefined","localStorage","setItem","push","Header","src","alt","id","to","Home","displayName","ErrorNotice","props","message","clearError","Login","useState","email","setEmail","password","setPassword","error","setError","submit","e","a","preventDefault","loginUser","Axios","post","loginRes","data","response","msg","onSubmit","htmlFor","type","onChange","target","value","Register","passwordCheck","setPasswordCheck","setDisplayName","newUser","placeholder","App","useEffect","getItem","headers","get","userRes","checkLoggedIn","Provider","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.196e7da9.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport default createContext(null);\n","import React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport UserContext from \"./UserContext\";\n\nexport default function AuthOptions() {\n  const { userData, setUserData } = useContext(UserContext);\n\n  const history = useHistory();\n\n  const register = () => history.push(\"/register\");\n  const login = () => history.push(\"/login\");\n  const logout = () => {\n    setUserData({\n      token: undefined,\n      user: undefined,\n    });\n    localStorage.setItem(\"auth-token\", \"\");\n  };\n\n  return (\n    <nav className=\"auth-options\">\n      {userData.user ? (\n        <button onClick={logout}>Log out</button>\n      ) : (\n        <>\n          <button onClick={register}>Register</button>\n          <button onClick={login}>Log in</button>\n        </>\n      )}\n    </nav>\n  );\n}\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport AuthOptions from \"./AuthOptions\";\n\n// import '../App.css';\nimport './style.css'\n// import PersonIcon from '@material-ui/icons/Person';\n// import IconButton from '@material-ui/core/IconButton';\n// import ForumIcon from '@material-ui/icons/Forum';\n\nexport default function Header() {\n\treturn (\n\t\t<div className=\"header\">\n\t\t\n\t\t\t<img\n\t\t\t\tclassName=\"header-logo\"\n\t\t\t\tsrc=\"https://perrit.eu/wp-content/uploads/2015/10/JOIN-logo.png\"\n\t\t\t\talt=\"\"\n\t\t\t\t\n\t\t\t/>\n\n\t\t\t<header id=\"header\">\n\t\t\t<Link to=\"/\">\n\t\t\t  \n\t\t\t</Link>\n\t\t\t<AuthOptions />\n\t\t  </header>\n\t\t</div>\n\t);\n}\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport UserContext from \"./UserContext\";\n\nexport default function Home() {\n  const { userData } = useContext(UserContext);\n\n  return (\n    <div className=\"page\">\n      {userData.user ? (\n        <h1>Welcome {userData.user.displayName}</h1>\n      ) : (\n        <>\n          <h2>You are not logged in</h2>\n          <Link to=\"/login\">Log in</Link>\n        </>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function ErrorNotice(props) {\n  return (\n    <div className=\"error-notice\">\n      <span>{props.message}</span>\n      <button onClick={props.clearError}>X</button>\n    </div>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport UserContext from \"./UserContext\";\nimport Axios from \"axios\";\nimport ErrorNotice from \"./ErrorNotice\";\n\nexport default function Login() {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState();\n\n  const { setUserData } = useContext(UserContext);\n  const history = useHistory();\n\n  const submit = async (e) => {\n    e.preventDefault();\n    try {\n      const loginUser = { email, password };\n      const loginRes = await Axios.post(\n        \"http://localhost:5000/users/login\",\n        loginUser\n      );\n      setUserData({\n        token: loginRes.data.token,\n        user: loginRes.data.user,\n      });\n      localStorage.setItem(\"auth-token\", loginRes.data.token);\n      history.push(\"/\");\n    } catch (err) {\n      err.response.data.msg && setError(err.response.data.msg);\n    }\n  };\n  return (\n    <div className=\"page\">\n      <h2>Log in</h2>\n      {error && (\n        <ErrorNotice message={error} clearError={() => setError(undefined)} />\n      )}\n      <form className=\"form\" onSubmit={submit}>\n        <label htmlFor=\"login-email\">Email</label>\n        <input\n          id=\"login-email\"\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n\n        <label htmlFor=\"login-password\">Password</label>\n        <input\n          id=\"login-password\"\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n\n        <input type=\"submit\" value=\"Log in\" />\n      </form>\n    </div>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport UserContext from \"./UserContext\";\nimport Axios from \"axios\";\nimport ErrorNotice from \"./ErrorNotice\";\n\nexport default function Register() {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [passwordCheck, setPasswordCheck] = useState();\n  const [displayName, setDisplayName] = useState();\n  const [error, setError] = useState();\n\n  const { setUserData } = useContext(UserContext);\n  const history = useHistory();\n\n  const submit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const newUser = { email, password, passwordCheck, displayName };\n      await Axios.post(\"http://localhost:5000/users/register\", newUser);\n      const loginRes = await Axios.post(\"http://localhost:5000/users/login\", {\n        email,\n        password,\n      });\n      setUserData({\n        token: loginRes.data.token,\n        user: loginRes.data.user,\n      });\n      localStorage.setItem(\"auth-token\", loginRes.data.token);\n      history.push(\"/\");\n    } catch (err) {\n      err.response.data.msg && setError(err.response.data.msg);\n    }\n  };\n\n  return (\n    <div className=\"page\">\n      <h2>Register</h2>\n      {error && (\n        <ErrorNotice message={error} clearError={() => setError(undefined)} />\n      )}\n      <form className=\"form\" onSubmit={submit}>\n        <label htmlFor=\"register-email\">Email</label>\n        <input\n          id=\"register-email\"\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n        />\n\n        <label htmlFor=\"register-password\">Password</label>\n        <input\n          id=\"register-password\"\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Verify password\"\n          onChange={(e) => setPasswordCheck(e.target.value)}\n        />\n\n        <label htmlFor=\"register-display-name\">Display name</label>\n        <input\n          id=\"register-display-name\"\n          type=\"text\"\n          onChange={(e) => setDisplayName(e.target.value)}\n        />\n\n        <input type=\"submit\" value=\"Register\" />\n      </form>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport Header from \"./components/Header\";\n\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport UserContext from \"./components/UserContext\";\nexport default function App() {\n  const [userData, setUserData] = useState({\n    token: undefined,\n    user: undefined,\n  });\n\n  useEffect(() => {\n    const checkLoggedIn = async () => {\n      let token = localStorage.getItem(\"auth-token\");\n      if (token === null) {\n        localStorage.setItem(\"auth-token\", \"\");\n        token = \"\";\n      }\n      const tokenRes = await Axios.post(\n        \"http://localhost:5000/users/tokenIsValid\",\n        null,\n        { headers: { \"x-auth-token\": token } }\n      );\n      if (tokenRes.data) {\n        const userRes = await Axios.get(\"http://localhost:5000/users/\", {\n          headers: { \"x-auth-token\": token },\n        });\n        setUserData({\n          token,\n          user: userRes.data,\n        });\n      }\n    };\n\n    checkLoggedIn();\n  }, []);\n\n  return (\n    <>\n      <BrowserRouter>\n        <UserContext.Provider value={{ userData, setUserData }}>\n          <Header />\n          <div className=\"container\">\n            <Switch>\n            <Route exact path=\"/\" component={Home} />\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/register\" component={Register} />\n            </Switch>\n          </div>\n        </UserContext.Provider>\n      </BrowserRouter>\n    </>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}